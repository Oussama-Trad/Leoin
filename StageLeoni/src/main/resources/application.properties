spring.application.name=admin-service

# MongoDB Atlas Configuration
spring.data.mongodb.uri=mongodb+srv://oussamatrzd19:oussama123@leoniapp.grhnzgz.mongodb.net/LeoniApp?retryWrites=true&w=majority
spring.data.mongodb.database=LeoniApp
spring.data.mongodb.auto-index-creation=true

# MongoDB connection timeout settings
spring.data.mongodb.connection-timeout=10000
spring.data.mongodb.socket-timeout=10000
spring.data.mongodb.server-selection-timeout=30000

# Server configuration
server.port=9999

# MongoDB configuration
server.address=0.0.0.0
server.servlet.context-path=/
server.error.include-message=always
server.error.include-binding-errors=always

# Connection and response handling to prevent chunked encoding issues
server.connection-timeout=30000
server.tomcat.connection-timeout=30000
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=20
server.tomcat.max-connections=10000
server.tomcat.accept-count=100

# Disable chunked encoding for problematic responses
server.tomcat.use-relative-redirects=false
server.tomcat.redirect-enabled=true

# Response compression and buffering
server.compression.enabled=false
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=2048

# HTTP response settings
server.http2.enabled=false
server.servlet.session.timeout=30m

# Jackson Configuration (JSON serialization)
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Europe/Paris
spring.jackson.serialization.fail-on-empty-beans=false

# Logging Configuration
logging.level.com.leoni=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.com.mongodb=DEBUG
logging.level.org.mongodb.driver=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG
logging.level.org.apache.tomcat=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Application specific properties
app.admin.username=admin
app.admin.password=admin
app.cors.allowed-origins=*
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.max-age=3600

# Management endpoints (for monitoring)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.info.env.enabled=true

# Info endpoint configuration
info.app.name=@project.name@
info.app.description=Admin Service for Leoni Application
info.app.version=@project.version@
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@
